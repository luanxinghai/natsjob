import{t as e}from"./TableView-ED9yLtT8.js";import"./css-CYq48aYZ.js";import{B as t,Bt as n,Ot as r,Qt as i,Rt as a,b as o,f as s,gt as c,in as l,kt as u,l as d,pt as f,qt as p,ut as ee,vt as m,y as h,yt as g}from"./main-DLAKPujJ.js";/* empty css            */import{n as _,t as v}from"./namespace-dpJnOkIB.js";/* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            */import y from"./AppEdit-CA4SE1GH.js";/* empty css            */import{t as b}from"./ClientRegView-BznfCOEA.js";/* empty css            *//* empty css            *//* empty css            */import{t as x}from"./GridRow-BmMdcQMJ.js";import"./IconRemixTemp-DeAFsH1z.js";import{t as S}from"./RegIconBtn-C6eABLZ0.js";import{t as C}from"./ViewIconBtn-DqZlxRSL.js";import{n as w,r as T,t as E}from"./CreateBtn-DFkXJKP5.js";import{t as D}from"./RefreshIconBtn-BXtIwmmV.js";import{n as O,t as k}from"./SearchBtn-Dy2YS8YI.js";var A=[`onClick`],j=[`onClick`],M=g({name:`AppList`}),N=Object.assign(M,{setup(l){let g=p(),M=p(),{table:N,page:P,useTableSearchFormSubmit:F,useTableRemove:I,useTableSearch:L,searchRef:R,useTableSearchReset:z,useTableSearchResetLoad:B,useTableDownload:V,searchForm:H}=useTable({api:`natsjob/api/app`,excelName:``,searchFields:{namespaceId:v.value,name:null}});r(()=>{L()});let U=()=>{g.value.createData({namespaceId:v.value})},W=e=>{g.value.editData(e)},G=d(),K=e=>{G.push({name:`JobList`,params:{cmd:`detail`,namespaceId:v.value,appId:e.id},meta:{title:`任务列表`}})};a(v,()=>{H.namespaceId=v.value,L()});let q=e=>{M.value.view(_,e.name)};return(r,a)=>{let l=t,d=o,p=k,_=O,v=h,z=E,V=D,G=s,J=w,Y=T,X=C,Z=S,Q=x,$=e,te=y,ne=b;return u(),c(ee,null,[m($,{data:i(N).data,page:i(P),search:i(L)},{search:n(()=>[m(v,{inline:!0,model:i(H),rules:r.rules,ref_key:`searchRef`,ref:R,"label-width":`80px`},{default:n(()=>[m(d,{label:`服务名`,prop:`name`},{default:n(()=>[m(l,{modelValue:i(H).name,"onUpdate:modelValue":a[0]||=e=>i(H).name=e,modelModifiers:{trim:!0},clearable:``,style:{width:`140px`}},null,8,[`modelValue`])]),_:1}),m(d,{style:{"margin-left":`10px`}},{default:n(()=>[m(p,{onclick:i(F)},null,8,[`onclick`]),m(_,{onclick:i(B)},null,8,[`onclick`])]),_:1})]),_:1},8,[`model`,`rules`])]),header:n(()=>[m(z,{onclick:U}),m(V,{onclick:i(L)},null,8,[`onclick`])]),column:n(()=>[m(G,{type:`index`,width:`50`}),m(G,{prop:`id`,label:`编号`,"min-width":`180`}),m(G,{prop:`name`,label:`服务名`,"min-width":`200`}),m(G,{prop:`description`,label:`说明`,"min-width":`200`}),m(G,{prop:`namespaceId`,label:`命名空间编号`,"min-width":`160`}),m(G,{prop:`createdAt`,label:`创建日期`,"min-width":`180`}),m(G,{prop:`updatedAt`,label:`更新日期`,"min-width":`180`}),m(G,{fixed:`right`,label:`操作`,width:`140`},{default:n(({row:e})=>[m(Q,{span:4},{default:n(()=>[f(`div`,{onClick:t=>W(e)},[m(J)],8,A),f(`div`,null,[m(Y,{onConfirm:t=>i(I)(e.id)},null,8,[`onConfirm`])]),f(`div`,null,[m(X,{onClick:t=>K(e)},null,8,[`onClick`])]),f(`div`,{onClick:t=>q(e)},[m(Z)],8,j)]),_:2},1024)]),_:1})]),_:1},8,[`data`,`page`,`search`]),m(te,{ref_key:`editRef`,ref:g,onLoad:i(L)},null,8,[`onLoad`]),m(ne,{ref_key:`viewRef`,ref:M},null,512)],64)}}});export{N as default};