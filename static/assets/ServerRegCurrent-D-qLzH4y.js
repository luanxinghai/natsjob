import{t as e}from"./css-CYq48aYZ.js";import{t}from"./Countdown-ChoBioFq.js";import{Bt as n,D as r,O as i,Ot as a,Qt as o,_t as s,gt as c,in as l,kt as u,mt as d,pt as f,qt as p,tn as m,vt as h}from"./main-DLAKPujJ.js";/* empty css            */import{t as g}from"./SpaceGap-CIjk4lfa.js";import{t as _}from"./dot-D1vB4RK9.js";var v={key:0,class:`d-success`},y={key:1,class:`d-danger`},b={key:0,class:`d-success`},x={key:1,class:`d-danger`},S={__name:`ServerRegCurrent`,setup(l){let S=p(null),C=p({id:``,startTime:``,updateTime:``,isMaster:!1}),w=async()=>{C.value=await $post(`natsjob/api/console/current-server-reg`)};a(()=>{w()});let T=()=>{w(),S.value?.reset()};return(a,l)=>{let p=t,E=g,D=i,O=_,k=r,A=e;return u(),d(A,{title:`当前服务端注册`},{"header-extra":n(()=>[h(p,{ref_key:`countdown`,ref:S,duration:1e4,active:!0,"on-finish":T},null,512),h(E),f(`i`,{class:`ri-loop-left-ai-line ri-lg`,style:{cursor:`pointer`},onClick:w})]),default:n(()=>[h(k,{class:`margin-top`,column:2,border:``,"label-width":`120px`},{default:n(()=>[h(D,null,{label:n(()=>[...l[0]||=[f(`div`,{class:`cell-item`},` ip `,-1)]]),default:n(()=>[s(` `+m(o(C)?.systemInfo?.machineIp),1)]),_:1}),h(D,null,{label:n(()=>[...l[1]||=[f(`div`,{class:`cell-item`},` id `,-1)]]),default:n(()=>[s(` `+m(o(C).id),1)]),_:1}),h(D,null,{label:n(()=>[...l[2]||=[f(`div`,{class:`cell-item`},` 开始时间 `,-1)]]),default:n(()=>[s(` `+m(o(C).startTime),1)]),_:1}),h(D,null,{label:n(()=>[...l[3]||=[f(`div`,{class:`cell-item`},` 心跳时间 `,-1)]]),default:n(()=>[s(` `+m(o(C).updateTime),1)]),_:1}),h(D,null,{label:n(()=>[...l[4]||=[f(`div`,{class:`cell-item`},` 节点类型 `,-1)]]),default:n(()=>[o(C).isMaster?(u(),c(`div`,v,[h(O,{type:`success`}),l[5]||=s(` 主节点 `,-1)])):(u(),c(`div`,y,[h(O,{type:`danger`}),l[6]||=s(` 从节点 `,-1)]))]),_:1}),h(D,null,{label:n(()=>[...l[7]||=[f(`div`,{class:`cell-item`},` nats状态 `,-1)]]),default:n(()=>[o(C).natsConnect?(u(),c(`div`,b,[h(O,{type:`success`}),l[8]||=s(` 正常连接 `,-1)])):(u(),c(`div`,x,[h(O,{type:`danger`}),l[9]||=s(` 连接断开 `,-1)]))]),_:1})]),_:1})]),_:1})}}};export{S as default};