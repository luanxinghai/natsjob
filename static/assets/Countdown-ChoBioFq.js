import{Dt as e,Ot as t,qt as n,yt as r,zt as i}from"./main-DLAKPujJ.js";var a=r({name:`Countdown`,props:{duration:{type:Number,default:0},active:{type:Boolean,default:!0},precision:{type:Number,default:0},render:Function,onFinish:Function},setup(r){let a=null,o=0,s=!1,c=n(0);i(()=>{c.value=r.duration});let l=-1;function u(e){return r.duration-o+l-e}function d(e){return{hours:Math.floor(e/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3),milliseconds:Math.floor(e%1e3)}}function f(e){let{hours:t,minutes:n,seconds:i,milliseconds:a}=e,{precision:o}=r;switch(o){case 0:return`${String(t).padStart(2,`0`)}:${String(n).padStart(2,`0`)}:${String(i).padStart(2,`0`)}`;default:return`${String(t).padStart(2,`0`)}:${String(n).padStart(2,`0`)}:${String(i).padStart(2,`0`)}.${String(Math.floor(a/(o===1?100:o===2?10:1))).padStart(o,`0`)}`}}let p=()=>{var e;let{precision:t}=r,n=u(performance.now());if(n<=0){c.value=0,m(),s||(s=!0,(e=r.onFinish)==null||e.call(r));return}let i;switch(t){case 3:case 2:i=n%34;break;case 1:i=n%100;break;default:i=n%1e3}c.value=n,a=window.setTimeout(()=>{p()},i)};function m(){a!==null&&(window.clearTimeout(a),a=null)}t(()=>{i(()=>{if(r.active)l=performance.now(),p();else{let e=performance.now();l!==-1&&(o+=e-l),m()}})}),e(()=>{m()});function h(){c.value=r.duration,o=0,l=performance.now(),r.active&&s&&p(),s=!1}let g={reset:h};return Object.assign(g,{distance:c,getTimeInfo:d,getDisplayValue:f})},render(){let{render:e,precision:t,distance:n,getTimeInfo:r,getDisplayValue:i}=this,a;switch(t){case 0:a=r(n+999),a.milliseconds=0;break;case 1:a=r(n+99),a.milliseconds=Math.floor(a.milliseconds/100)*100;break;case 2:a=r(n+9),a.milliseconds=Math.floor(a.milliseconds/10)*10;break;case 3:a=r(n)}return e?e(a):i(a)}});export{a as t};