import{t as e}from"./TableView-ED9yLtT8.js";import{B as t,Bt as n,Ot as r,Qt as i,_t as a,b as o,c as s,f as c,gt as l,in as u,kt as d,mt as f,pt as p,qt as m,tn as h,ut as g,vt as _,y as v,yt as y}from"./main-DLAKPujJ.js";import{t as b}from"./_plugin-vue_export-helper-DAAOZMkq.js";/* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            */import{t as x}from"./GridRow-BmMdcQMJ.js";import{t as S}from"./IconRemixTemp-DeAFsH1z.js";import{t as C}from"./RefreshIconBtn-BXtIwmmV.js";import{n as w,t as T}from"./SearchBtn-Dy2YS8YI.js";import E from"./JobCategoryLabel-DPsF33kf.js";import D from"./JobModelLabel-5f1b3U81.js";import O from"./JobSubResultList-Cs5z4Urv.js";var k={};function A(e,t){let n=S;return d(),f(n,{name:`ri-apps-line`})}var j=b(k,[[`render`,A]]),M=[`onClick`],N=y({name:`JobResultList`}),P=Object.assign(N,{setup(u){let f=s(),y=m(),{table:b,page:S,useTableSearchFormSubmit:k,useTableRemove:A,useTableSearch:N,searchRef:P,useTableSearchReset:F,useTableSearchResetLoad:I,useTableDownload:L,searchForm:R}=useTable({api:`natsjob/api/app-job-result`,excelName:``,searchFields:{jobId:f.params.jobId,status:null,reason:null,monitorStatus:null,monitorPayload:null}});r(()=>{N()});let z=e=>{y.value.subList(e.id)};return(r,s)=>{let u=t,f=o,m=T,A=w,F=v,L=C,B=c,V=E,H=D,U=j,W=x,G=e,K=O;return d(),l(g,null,[_(G,{data:i(b).data,page:i(S),search:i(N)},{search:n(()=>[_(F,{inline:!0,model:i(R),rules:r.rules,ref_key:`searchRef`,ref:P,"label-width":`120px`},{default:n(()=>[_(f,{label:`状态`,prop:`status`},{default:n(()=>[_(u,{modelValue:i(R).status,"onUpdate:modelValue":s[0]||=e=>i(R).status=e,modelModifiers:{trim:!0},clearable:``,style:{width:`140px`}},null,8,[`modelValue`])]),_:1}),_(f,{label:`原因`,prop:`reason`},{default:n(()=>[_(u,{modelValue:i(R).reason,"onUpdate:modelValue":s[1]||=e=>i(R).reason=e,modelModifiers:{trim:!0},clearable:``,style:{width:`140px`}},null,8,[`modelValue`])]),_:1}),_(f,{label:`监控状态`,prop:`monitorStatus`},{default:n(()=>[_(u,{modelValue:i(R).monitorStatus,"onUpdate:modelValue":s[2]||=e=>i(R).monitorStatus=e,modelModifiers:{trim:!0},clearable:``,style:{width:`140px`}},null,8,[`modelValue`])]),_:1}),_(f,{label:`监控随路数据`,prop:`monitorPayload`},{default:n(()=>[_(u,{modelValue:i(R).monitorPayload,"onUpdate:modelValue":s[3]||=e=>i(R).monitorPayload=e,modelModifiers:{trim:!0},clearable:``,style:{width:`140px`}},null,8,[`modelValue`])]),_:1}),_(f,{style:{"margin-left":`10px`}},{default:n(()=>[_(m,{onclick:i(k)},null,8,[`onclick`]),_(A,{onclick:i(I)},null,8,[`onclick`])]),_:1})]),_:1},8,[`model`,`rules`])]),header:n(()=>[_(L,{onclick:i(N)},null,8,[`onclick`])]),column:n(()=>[_(B,{type:`index`,width:`50`}),_(B,{prop:`id`,label:`编号`,"min-width":`180`}),_(B,{prop:`status`,label:`状态`,"min-width":`200`,"show-overflow-tooltip":``}),_(B,{prop:`reason`,label:`原因`,"min-width":`200`,"show-overflow-tooltip":``}),_(B,{prop:`monitorStatus`,label:`监控状态`,"min-width":`200`,"show-overflow-tooltip":``}),_(B,{prop:`monitorPayload`,label:`监控随路数据`,"min-width":`200`,"show-overflow-tooltip":``}),_(B,{prop:`timeSpan`,label:`耗时(ms)`,"min-width":`100`},{default:n(({row:e})=>[a(h(r.$tools.formatMs(e.timeSpan)),1)]),_:1}),_(B,{prop:`startAt`,label:`开始时间`,"min-width":`180`}),_(B,{prop:`endAt`,label:`结束时间`,"min-width":`180`}),_(B,{prop:`expiredAt`,label:`过期时间`,"min-width":`180`}),_(B,{prop:`category`,label:`分类`,"min-width":`120`},{default:n(({row:e})=>[_(V,{modelValue:e.category,"onUpdate:modelValue":t=>e.category=t},null,8,[`modelValue`,`onUpdate:modelValue`])]),_:1}),_(B,{prop:`model`,label:`模式`,"min-width":`120`},{default:n(({row:e})=>[_(H,{modelValue:e.model,"onUpdate:modelValue":t=>e.model=t},null,8,[`modelValue`,`onUpdate:modelValue`])]),_:1}),_(B,{prop:`jobName`,label:`任务名`,"min-width":`200`,"show-overflow-tooltip":``}),_(B,{prop:`jobId`,label:`任务编号`,"min-width":`180`}),_(B,{prop:`appId`,label:`服务编号`,"min-width":`180`}),_(B,{prop:`namespaceId`,label:`命名空间编号`,"min-width":`180`}),_(B,{prop:`createdAt`,label:`创建日期`,"min-width":`180`}),_(B,{prop:`updatedAt`,label:`更新日期`,"min-width":`180`}),_(B,{fixed:`right`,label:`操作`,width:`60`},{default:n(({row:e})=>[_(W,{span:1},{default:n(()=>[p(`div`,{onClick:t=>z(e)},[_(U)],8,M)]),_:2},1024)]),_:1})]),_:1},8,[`data`,`page`,`search`]),_(K,{ref_key:`subResultListRef`,ref:y,onLoad:i(N)},null,8,[`onLoad`])],64)}}});export{P as default};