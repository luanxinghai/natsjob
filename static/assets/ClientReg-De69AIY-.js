import{t as e}from"./css-CYq48aYZ.js";import{t}from"./Countdown-ChoBioFq.js";import{Bt as n,Gt as r,Ot as i,Qt as a,Rt as o,_t as s,d as c,f as l,gt as u,in as d,kt as f,pt as p,qt as m,tn as h,ut as g,vt as _}from"./main-DLAKPujJ.js";/* empty css            */import{n as v,t as y}from"./namespace-dpJnOkIB.js";/* empty css            *//* empty css            */import{t as b}from"./SpaceGap-CIjk4lfa.js";/* empty css            *//* empty css            *//* empty css            *//* empty css            */import{t as x}from"./ClientRegView-BznfCOEA.js";/* empty css            *//* empty css            */import{t as S}from"./GridRow-BmMdcQMJ.js";import"./IconRemixTemp-DeAFsH1z.js";import{t as C}from"./RegIconBtn-C6eABLZ0.js";var w={__name:`ClientReg`,setup(d){let w=m(null),T=r({namespace:v}),E=m([]),D=async()=>{T.namespace=v,E.value=await $post(`natsjob/api/console/client-reg-ns`,T)},O=m();i(()=>{D()});let k=()=>{D(),w.value?.reset()};o(y,()=>{D()});let A=e=>{O.value.view(v,e.appName)};return(r,i)=>{let o=t,d=b,m=l,y=C,T=S,j=c,M=e,N=x;return f(),u(g,null,[_(M,{title:`客户端注册(`+a(v)+`)`},{"header-extra":n(()=>[_(o,{ref_key:`countdown`,ref:w,duration:1e4,active:!0,"on-finish":k},null,512),_(d),p(`i`,{class:`ri-loop-left-ai-line ri-lg`,style:{cursor:`pointer`},onClick:D})]),default:n(()=>[_(j,{"highlight-current-row":``,data:a(E),border:``,height:500},{default:n(()=>[_(m,{prop:`namespace`,label:`命名空间`,"min-width":`120`,"show-overflow-tooltip":``}),_(m,{prop:`appName`,label:`服务`,"min-width":`180`}),_(m,{prop:`clientRegs`,label:`注册数`,"min-width":`90`},{default:n(({row:e})=>[s(h(e.clientRegs?e.clientRegs.length:0),1)]),_:1}),_(m,{fixed:`right`,label:`操作`,width:`60`},{default:n(({row:e})=>[_(T,{span:1},{default:n(()=>[_(y,{onClick:t=>A(e)},null,8,[`onClick`])]),_:2},1024)]),_:1})]),_:1},8,[`data`])]),_:1},8,[`title`]),_(N,{ref_key:`viewRef`,ref:O},null,512)],64)}}};export{w as default};